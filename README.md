# fs
OS Curriculum Design
磁盘文件系统：建立基于磁盘存储设备的隐式链接文件系统。  
1. 首先分配一定容量的磁盘存储空间，作为文件存储空间；
2. 建立相应的文件系统，使用隐式链接物理文件的系统；
3. 解决文件的重名、共享和安全控制；
4. 支持文件的“按名存取”；
5. 为该文件系统设计相应的数据结构来管理目录、磁盘空闲空间、已分配空间等。
6. 提供文件的创建、删除、移位、改名等功能。
7. 提供良好的界面，可以显示磁盘文件系统的状态和空间的使用情况；
8. 提供虚拟磁盘转储功能，可将信息存入磁盘，还可从磁盘读入内存

## 项目描述
vdisk.c
实现虚拟磁盘，通过文件进行内容的存取，虚拟磁盘使用隐式连接的物理结构组织文件，每个物理块大小为512B，共分配100块  
`void write_disk(struct fcb* fb, const char* buffer, const int size)`  
该函数通过文件控制块FCB，将新建立/已修改的文件写入到磁盘  
参数描述：
> struct fcb* fb 文件控制块  
> const char* buffer 写入的文件内容  
> const int size 文件内容的大小 单位：B  

`struct i_block* read_disk(struct fcb* fb)`
通过文件控制块读取文件到内存
在目录实现中，按名检索到文件后，获取其文件控制块FCB（当前版本中暂时将目录设置成保存整个文件控制块，即每个目录表项就是一个FCB），通过FCB中的first_block读取文件内容

其他文件暂时不需要关心
